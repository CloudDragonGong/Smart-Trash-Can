# 通信文档（串口通信）

## 主机发送给单片机

### 包头有两个数据：

> 0x2c    0x12

### 然后第三位

~~~python
 if self.garbageType == "其他垃圾":
            data[2] = [0x00]
        elif self.garbageType == "厨余垃圾":
            data[2] = [0x01]
        elif self.garbageType == "可回收垃圾":
            data[2] = [0x02]
        elif self.garbageType == "有害垃圾":
            data[2] = [0x03]
~~~

### 包尾

> 0x5B

一共5个数据

## 单片机发送给主机（每次完成投放之后，一个光电传感器会检测垃圾桶是否满载）

> 之前的写的是发送了7位（这里是4位，加上包尾5位），但是没必要，但是可以直接用之前的代码

### 包头：

> 0x2c    0x12

### 是否检测到满载

> 0x00 无 ， 0x01 有

### 此时正在检测到的垃圾桶

> 可回收 厨余垃圾 有害垃圾 其他垃圾
>
> 0x00 
>
> 0x01
>
>  0x02
>
>  0x03

## 主机发送给单片机（定时检测验满）

[0x5D], [0x30], [0x01], [0x2A]

> 单片机收到信息后会执行验满操作

## 接收验满信号

七位

### 包头

>  0x5D  0x30

### 四位的满载信息

> 可回收 厨余垃圾 有害垃圾 其他垃圾
>
> 0x00 就是未满载
>
> 0x01 就是满载

### 加上包尾

就是7位

> 这些都写好了的，可以直接用